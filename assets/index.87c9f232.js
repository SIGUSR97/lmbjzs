import{d as t,r,c as e,a as n,w as a,s as u,b as o,e as c,f as l,v as s,g as i,u as f,i as h,F as p,h as d,t as g,o as v,j as y}from"./vendor.b720d388.js";function x(t){return t.replace(/\s+/g,"")}function A(t,r,e){const n=t.array.slice(),a=r.array.slice(),u=n.length;u<=1&&e(`一片${n[0]}夹不住东西啊！`);const o=a.length;if(o<u-1)if(1!==o||"一"===r.text[0]&&"一"!==r.text[1])e(`${r.text}太少了不够夹啊！`);else for(let p=0;p<u-o-1;p++)a.push(a[0]);const c=[],l=[],s=n[Symbol.iterator](),i=a[Symbol.iterator]();for(let p=0;p<u-1;p++){const t=[i.next().value];l.push(t),c.push(s.next().value,t)}c.push(s.next().value);const f=l.length;let h=0;for(const p of i)l[h%f].push(p),h++;return c.flat()}function C(t,r){if(r<=0)return[];let e=t;for(let n=0;n<r-1;n++)e=e.concat(t);return e}const m={"一":1,"两":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9,"十":10};function b(t,r,e,n){this.message=t,this.expected=r,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}function F(t,r){r=void 0!==r?r:{};var e,n,a,u,o={},c={"两面包夹芝士":rt},l=rt,s=function(t){return{text:x(Q()),type:t.type,array:t.array}},i=X("(",!1),f=X(")",!1),h=X("（",!1),p=X("）",!1),d=X("一",!1),g=X("两",!1),v=X("三",!1),y=X("四",!1),F=X("五",!1),w=X("六",!1),S=X("七",!1),E=X("八",!1),$=X("九",!1),k=X("十",!1),M="面包",R=X("面包",!1),j=X("夹",!1),U="芝士",N=X("芝士",!1),T=X("和",!1),V=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,z={type:"class",parts:[" "," "," ",[" "," "]," "," ","　"],inverted:!1,ignoreCase:!1},J=X("\t",!1),O=X("\v",!1),Y=X("\f",!1),q=X(" ",!1),B=X(" ",!1),D=X("\ufeff",!1),G=X("\n",!1),H=0,I=0,K=[{line:1,column:1}],L=0,P=[];if("startRule"in r){if(!(r.startRule in c))throw new Error("Can't start parsing from rule \""+r.startRule+'".');l=c[r.startRule]}function Q(){return t.substring(I,H)}function W(t,r){throw function(t,r){return new b(t,null,null,r)}(t,r=void 0!==r?r:_(I,H))}function X(t,r){return{type:"literal",text:t,ignoreCase:r}}function Z(r){var e,n=K[r];if(n)return n;for(e=r-1;!K[e];)e--;for(n={line:(n=K[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return K[r]=n,n}function _(t,r){var e=Z(t),n=Z(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function tt(t){H<L||(H>L&&(L=H,P=[]),P.push(t))}function rt(){var t,r;return t=H,ut()!==o&&(r=et())!==o&&ut()!==o?(I=t,t=r):(H=t,t=o),t}function et(){var r,e,n,a,u;return r=H,(e=nt())!==o&&ut()!==o&&function(){var r;21644===t.charCodeAt(H)?(r="和",H++):(r=o,tt(T));return r}()!==o&&ut()!==o&&(n=et())!==o?(I=r,a=e,u=n,r=e={text:x(Q()),type:"和",array:[a.array,..."和"===u.type?u.array:[u.array]]}):(H=r,r=o),r===o&&(r=H,(e=nt())!==o&&(I=r,e=s(e)),r=e),r}function nt(){var r,e,n,a,u;return r=H,(e=at())!==o&&ut()!==o&&function(){var r;22841===t.charCodeAt(H)?(r="夹",H++):(r=o,tt(j));return r}()!==o&&ut()!==o&&(n=nt())!==o?(I=r,a=e,u=n,r=e={text:x(Q()),type:"夹",array:A(a,u,W)}):(H=r,r=o),r===o&&(r=at()),r}function at(){var r,e,n,a;return(r=function(){var r,e,n;r=H,(e=function(){var r,e;r=H,19968===t.charCodeAt(H)?(e="一",H++):(e=o,tt(d));e===o&&(20004===t.charCodeAt(H)?(e="两",H++):(e=o,tt(g)),e===o&&(19977===t.charCodeAt(H)?(e="三",H++):(e=o,tt(v)),e===o&&(22235===t.charCodeAt(H)?(e="四",H++):(e=o,tt(y)),e===o&&(20116===t.charCodeAt(H)?(e="五",H++):(e=o,tt(F)),e===o&&(20845===t.charCodeAt(H)?(e="六",H++):(e=o,tt(w)),e===o&&(19971===t.charCodeAt(H)?(e="七",H++):(e=o,tt(S)),e===o&&(20843===t.charCodeAt(H)?(e="八",H++):(e=o,tt(E)),e===o&&(20061===t.charCodeAt(H)?(e="九",H++):(e=o,tt($)),e===o&&(21313===t.charCodeAt(H)?(e="十",H++):(e=o,tt(k)))))))))));e!==o&&(I=r,e=m[Q()]);return r=e}())===o&&(e=null);e!==o&&ut()!==o&&(n=function(){var r;(r=function(){var r,e;r=H,t.substr(H,2)===M?(e=M,H+=2):(e=o,tt(R));e!==o&&(I=r,e={text:"面包",type:"面包",array:["面包"]});return r=e}())===o&&(r=function(){var r,e;r=H,t.substr(H,2)===U?(e=U,H+=2):(e=o,tt(N));e!==o&&(I=r,e={text:"芝士",type:"芝士",array:["芝士"]});return r=e}());return r}())!==o?(I=r,a=e,u=n,r=e={text:x(Q()),type:"N",array:C(u.array,null!=a?a:1)}):(H=r,r=o);var a,u;return r}())===o&&(r=H,40===t.charCodeAt(H)?(e="(",H++):(e=o,tt(i)),e!==o&&ut()!==o&&(n=et())!==o&&ut()!==o?(41===t.charCodeAt(H)?(a=")",H++):(a=o,tt(f)),a!==o?(I=r,r=e=s(n)):(H=r,r=o)):(H=r,r=o),r===o&&(r=H,65288===t.charCodeAt(H)?(e="（",H++):(e=o,tt(h)),e!==o&&ut()!==o&&(n=et())!==o&&ut()!==o?(65289===t.charCodeAt(H)?(a="）",H++):(a=o,tt(p)),a!==o?(I=r,r=e=s(n)):(H=r,r=o)):(H=r,r=o))),r}function ut(){var t,r;for(t=[],r=ot();r!==o;)t.push(r),r=ot();return t}function ot(){var r;return 9===t.charCodeAt(H)?(r="\t",H++):(r=o,tt(J)),r===o&&(11===t.charCodeAt(H)?(r="\v",H++):(r=o,tt(O)),r===o&&(12===t.charCodeAt(H)?(r="\f",H++):(r=o,tt(Y)),r===o&&(32===t.charCodeAt(H)?(r=" ",H++):(r=o,tt(q)),r===o&&(160===t.charCodeAt(H)?(r=" ",H++):(r=o,tt(B)),r===o&&(65279===t.charCodeAt(H)?(r="\ufeff",H++):(r=o,tt(D)),r===o&&(10===t.charCodeAt(H)?(r="\n",H++):(r=o,tt(G)),r===o&&(r=function(){var r;return V.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,tt(z)),r}()))))))),r}if((e=l())!==o&&H===t.length)return e;throw e!==o&&H<t.length&&tt({type:"end"}),n=P,a=L<t.length?t.charAt(L):null,u=L<t.length?_(L,L+1):_(L,L),new b(b.buildMessage(n,a),n,a,u)}!function(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}(b,Error),b.buildMessage=function(t,r){var e,n={literal:function(t){return'"'+u(t.text)+'"'},class:function(t){var r=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+r+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function a(t){return t.charCodeAt(0).toString(16).toUpperCase()}function u(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+a(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+a(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+a(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+a(t)}))}function c(t){return n[t.type](t)}return"Expected "+function(t){var r,e,n=t.map(c);if(n.sort(),n.length>0){for(r=1,e=1;r<n.length;r++)n[r-1]!==n[r]&&(n[e]=n[r],e++);n.length=e}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+(((e=r)?'"'+u(e)+'"':"end of input")+" found.")};const w=i("h1",null,"我们联合！",-1),S=i("h2",null,"输入",-1),E=i("h2",null,"输出",-1),$={class:"container"};y(t({expose:[],setup(t){const y=r({"面包":"./assets/bread.77f95106.svg","芝士":"./assets/cheese.60f8d7ab.svg"}),x=r("两面包夹芝士");r(null);const A=e((()=>JSON.stringify(m.value)));let C=F(x.value).array;const m=n(((t,r)=>({get(){try{C=F(x.value).array}catch(r){console.error(r)}t();return"string"==typeof C[0]?[C]:C},set(t){C=t,r()}})));a(x,(()=>{g(m)}));const b=u([[]]);return o((()=>{const t=m.value;for(let r=0;r<t.length;r++){b.value[r]||(b.value[r]=[]);const e=t[r].length;for(let t=0;t<e;t++)b.value[r][t]||(b.value[r][t]=`${["+","-"][+(Math.random()>.5)]}${45*Math.random()}deg`);b.value[r].splice(e,1/0)}b.value.splice(t.length,1/0),g(b)})),(t,r)=>(v(),c(p,null,[w,S,l(i("textarea",{"onUpdate:modelValue":r[1]||(r[1]=t=>x.value=t),class:"input"},null,512),[[s,x.value]]),E,l(i("textarea",{"onUpdate:modelValue":r[2]||(r[2]=t=>h(A)?A.value=t:null),class:"output",rows:4,cols:50,readonly:""},null,512),[[s,f(A)]]),i("div",$,[(v(!0),c(p,null,d(f(m),((t,r)=>(v(),c("div",{key:r,class:"sub-container"},[(v(!0),c(p,null,d(t,((e,n)=>(v(),c("img",{key:n,src:y.value[e],style:{transform:`translateY(-${3*n}px) rotate(${f(b)[r][n]})`,"z-index":t.length-n},alt:e},null,12,["src","alt"])))),128))])))),128))])],64))}})).mount("#app");
